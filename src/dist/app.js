(()=>{"use strict";var e={961:(e,n,t)=>{t.r(n),t.d(n,{div:()=>a,heroesMarkup:()=>r,selectWeapon:()=>i,createButton:()=>o});var a=function(e){if(e){var n=document.createElement("div");return n.classList.add(e),n}return document.createElement("div")},r=function(){var e=a("hero_left"),n=a("hero_right"),t=a();return t.append(e,n),t},i=function(e,n){return e&&e!==n?(e.classList.remove("selected"),n.classList.add("selected"),e=n):e===n?(n.classList.remove("selected"),e=null):(n.classList.add("selected"),e=n)},o=function(e){var n=document.createElement("button");return n.innerText=e,n.classList.add("button"+e),n}},812:(e,n,t)=>{t.r(n)}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var i=n[a]={exports:{}};return e[a](i,i.exports,t),i.exports}t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=t(961);function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}t(961),t(812);var i=2e3,o=function(){function e(t){n(this,e),e._WEAPONS||(e._WEAPONS=[]),this.name=t,e.WEAPONS.push(this)}return r(e,[{key:"getName",value:function(){return this.name}}],[{key:"WEAPONS",get:function(){return e._WEAPONS}}]),e}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AI",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.randomWeapon(o.WEAPONS);n(this,e),this.name=t,this.weapon=a,this.wins=0}return r(e,[{key:"getWins",value:function(){return this.wins}},{key:"addWins",value:function(){this.wins++}},{key:"setWeapon",value:function(e){this.weapon=e}},{key:"changeRandomWeapon",value:function(){this.weapon=this.randomWeapon()}},{key:"randomWeapon",value:function(){return o.WEAPONS[Math.floor(Math.random()*o.WEAPONS.length)]}},{key:"battle",value:function(e){switch(e.changeRandomWeapon(),this.weapon.name){case""+e.weapon.name:return"draw";case"rock":return"paper"===e.weapon.name?e:this;case"paper":return"scissors"===e.weapon.name?e:this;case"scissors":return"rock"===e.weapon.name?e:this;default:return 1}}}]),e}(),u=function(){function e(t){n(this,e),this.player=t,this.AI=new s,this.round=0,this.winner={}}return r(e,[{key:"getRound",value:function(){return this.round}},{key:"startBattle",value:function(){this.round++;var e=this.player.battle(this.AI);return"draw"!==e&&e.wins++,e}},{key:"getPlayerScore",value:function(){return this.player.getWins()}},{key:"getAiScore",value:function(){return this.AI.getWins()}},{key:"getWinner",value:function(){return this.getPlayerScore()>this.getAiScore()?this.player:this.getPlayerScore()===this.getAiScore()?{name:"draw"}:this.AI}}]),e}();new o("paper"),new o("rock"),new o("scissors");var c=null,p=new s("You"),l=new u(p),d=document.getElementById("appRoot"),h=document.createElement("h1");h.innerText="Let's play!",h.classList.add("heading");var f=(0,e.div)("messageContainer"),v=(0,e.div)("weaponsContainer"),m=(0,e.div)("heroesContainer"),y=(0,e.div)("gameMainContainer");y.append(v,f),m.append((0,e.heroesMarkup)()),o.WEAPONS.forEach((function(n){var t=(0,e.div)(n.name);t.addEventListener("click",(function(n){c=(0,e.selectWeapon)(c,n.target),w(c)})),v.appendChild(t)}));var w=function(e){null==e?W():(p.setWeapon(new o(e.classList[0])),g(),k())},g=function(){var n=(0,e.div)("scoresBlock");f.innerHTML="";var t="draw"===l.getWinner().name?"":" has won!";n.innerHTML="<p>Result: <span>"+l.getWinner().name+"</span>"+t+"</p><p><span>Your</span> score: "+l.getPlayerScore()+"</p><p><span>AI</span> score: "+l.getAiScore()+"</p>",f.appendChild(n);var a=(0,e.createButton)("Play");a.innerText="Play more",f.appendChild(a),a.addEventListener("click",(function(){l=A(),w()}))},W=function(){f.innerHTML='<p class="animated">Choose your weapon!</p>'},k=function(){var n=(0,e.createButton)("Start");f.innerHTML="<p>Your weapon is: <span>"+p.weapon.name+"</span></p>",f.append(n),n.addEventListener("click",(function(){S()}))},S=function(){var e;l.getRound()<=2?(e=l.startBattle(),f.innerHTML="draw"!==e?'<p class="animated"> <span>'+e.name+"</span> has won! </p>":'<p class="animated"> <span>DRAW</span></p>',3===l.getRound()?setTimeout((function(){g()}),i):setTimeout((function(){w()}),i)):setTimeout((function(){w()}),i)},A=function(){return new u(new s("You"))};d.append(m),d.appendChild(h),d.appendChild(y),w()})()})();